/* Database Systems, Coronel/Morris */
/* Type of SQL : MySQL  

DB Project - Sridhar Rangan and Sanjin Hodzic
*/

DROP SCHEMA IF EXISTS DB_20_GCS;
CREATE SCHEMA DB_20_GCS;
USE DB_20_GCS;


CREATE TABLE REGION (
REGION_ID int,
REGION_NAME varchar(50),
PRIMARY KEY(REGION_ID)
);

INSERT INTO REGION VALUES('1','NW');
INSERT INTO REGION VALUES('2','SW');
INSERT INTO REGION VALUES('3','MN');
INSERT INTO REGION VALUES('4','MS');
INSERT INTO REGION VALUES('5','NE');
INSERT INTO REGION VALUES('6','SE');


CREATE TABLE CUSTOMER (
CUS_ID int,
CUS_NAME varchar(50),
CUS_PHONE varchar(50),
REGION_ID int,
PRIMARY KEY (CUS_ID),
FOREIGN KEY (REGION_ID) REFERENCES REGION(REGION_ID)
);
INSERT INTO CUSTOMER VALUES('1','See Rocks','678-257-2857','1');
INSERT INTO CUSTOMER VALUES('2','Bellsouth','931-685-1563','2');
INSERT INTO CUSTOMER VALUES('3','AT&T','615-725-7896','3');
INSERT INTO CUSTOMER VALUES('4','ClearChannel','423-596-6241','4');
INSERT INTO CUSTOMER VALUES('5','Comcast','901-895-5547','5');
INSERT INTO CUSTOMER VALUES('6','Enron','865-489-3699','6');

/* -- */

CREATE TABLE EMPLOYEE (
EMP_ID int,
EMP_LNAME varchar(50),
EMP_INITIAL varchar(50),
EMP_FNAME varchar(50),
EMP_HIREDATE datetime, 
REGION_ID int,
PRIMARY KEY (EMP_ID),
FOREIGN KEY (REGION_ID) REFERENCES REGION(REGION_ID)
);
INSERT INTO EMPLOYEE VALUES('1','Seaton','M','Amy','2001-2-7','1');
INSERT INTO EMPLOYEE VALUES('2','Craig','M','Brett','2000-8-16','3');
INSERT INTO EMPLOYEE VALUES('3','Sewell','Z','Beth','2000-9-15','4');
INSERT INTO EMPLOYEE VALUES('4','Williams','R','Josh','2000-4-7','2');
INSERT INTO EMPLOYEE VALUES('5','Chandler','E','Joseph','2001-6-12','5');
INSERT INTO EMPLOYEE VALUES('6','Robbins','E','Erin','2001-8-25','6');
INSERT INTO EMPLOYEE VALUES('7','Burklow','C','Shan','2000-11-26','1');
INSERT INTO EMPLOYEE VALUES('8','Yarbrough','B','Peter','2001-1-9','6');
INSERT INTO EMPLOYEE VALUES('9','Kattan','N','Chris','2000-5-31','2');
INSERT INTO EMPLOYEE VALUES('10','Pascoe','L','Jonathan','2001-7-14','3');
INSERT INTO EMPLOYEE VALUES('11','Batts','D','Melissa','2001-9-16','4');
INSERT INTO EMPLOYEE VALUES('12','Cope','R','Leslie','1999-10-31','5');
INSERT INTO EMPLOYEE VALUES('13','Bible','M','Hanah','2000-6-8','2');
INSERT INTO EMPLOYEE VALUES('14','Pitt','S','Brad','1999-5-9','6');
INSERT INTO EMPLOYEE VALUES('15','Newton','S','Christopher','2001-2-28','3');
INSERT INTO EMPLOYEE VALUES('16','Smith','A','Mary','1999-3-8','1');
INSERT INTO EMPLOYEE VALUES('17','Underwood','L','Trish','1998-10-21','4');
INSERT INTO EMPLOYEE VALUES('18','Bender','A','Larry','2000-8-9','6');
INSERT INTO EMPLOYEE VALUES('19','Mudd','T','Roger','1999-12-1','5');
INSERT INTO EMPLOYEE VALUES('20','Kenyon','D','Tiffany','2001-4-28','2');
INSERT INTO EMPLOYEE VALUES('21','Ephanor',NULL,'Victor','2000-3-2','1');
INSERT INTO EMPLOYEE VALUES('22','Summers',NULL,'Anna','1999-1-1','1');
INSERT INTO EMPLOYEE VALUES('23','Smith','F','Jose','1998-2-6','1');
INSERT INTO EMPLOYEE VALUES('24','Rogers','S','Adam','2000-4-6','1');
INSERT INTO EMPLOYEE VALUES('25','Zebras',NULL,'Steve','2000-4-5','1');
INSERT INTO EMPLOYEE VALUES('26','Ellis','R','Maria','2000-8-7','1');
INSERT INTO EMPLOYEE VALUES('27','Duarte',NULL,'Miriam','2000-12-3','1');
INSERT INTO EMPLOYEE VALUES('28','Bush',NULL,'Emily','1999-6-5','1');
INSERT INTO EMPLOYEE VALUES('29','Kilby','T','Surgena','2000-4-1','1');
INSERT INTO EMPLOYEE VALUES('30','Connor',NULL,'Sean','1998-4-15','1');

/* -- */



/* -- */

CREATE TABLE SKILL (
SKILL_ID int PRIMARY KEY,
SKILL_DESCRIPTION varchar(50),
SKILL_RATE decimal(8,2),
);
INSERT INTO SKILL VALUES('1','Data Entry I','12');
INSERT INTO SKILL VALUES('2','Data Entry II','15');
INSERT INTO SKILL VALUES('3','System Analyst I','18');
INSERT INTO SKILL VALUES('4','System Analyst II','21');
INSERT INTO SKILL VALUES('5','Database Designer I','50');
INSERT INTO SKILL VALUES('6','Database Designer II','75');
INSERT INTO SKILL VALUES('7','Java I','25');
INSERT INTO SKILL VALUES('8','Java II','30');
INSERT INTO SKILL VALUES('9','C++ I','35');
INSERT INTO SKILL VALUES('10','C++ II','45');
INSERT INTO SKILL VALUES('11','Python I','25');
INSERT INTO SKILL VALUES('12','Python II','35');
INSERT INTO SKILL VALUES('13','Cold Fusion I','60');
INSERT INTO SKILL VALUES('14','Cold Fusion II','75');
INSERT INTO SKILL VALUES('15','ASP I','60');
INSERT INTO SKILL VALUES('16','ASP II','70');
INSERT INTO SKILL VALUES('17','Web Administrator','50');
INSERT INTO SKILL VALUES('18','Oracle DBA','100');
INSERT INTO SKILL VALUES('19','SQL Server DBA','100');
INSERT INTO SKILL VALUES('20','Network Eng. I','80');
INSERT INTO SKILL VALUES('21','Network Eng. II','100');
INSERT INTO SKILL VALUES('22','Technical Writer','100');
INSERT INTO SKILL VALUES('23','Project Manager','70');

CREATE TABLE EMPSKILL (
EMPSKILL_ID int,
EMP_LNAME varchar (50),
EMP_FNAME varchar (50),
SKILL_ID int,
SKILL_DESCRIPTION varchar (50),
EMP_ID int,
PRIMARY KEY (EMPSKILL_ID),
FOREIGN KEY (SKILL_ID) REFERENCES SKILL(SKILL_ID),
FOREIGN KEY (EMP_ID) REFERENCES EMPLOYEE(EMP_ID)
);
INSERT INTO EMPSKILL VALUES('1','Seaton','Amy','1','Data Entry I','1');
INSERT INTO EMPSKILL VALUES('2','Seaton','Amy','2','Data Entry II','1');
INSERT INTO EMPSKILL VALUES('3','Craig','Brett','3','Systems Analyst I','2');
INSERT INTO EMPSKILL VALUES('4','Sewell','Beth','3','Systems Analyst I','3');
INSERT INTO EMPSKILL VALUES('5','Williams','Josh','1','Data Entry I','4');
INSERT INTO EMPSKILL VALUES('6','Williams','Josh','2','Data Entry II','4');
INSERT INTO EMPSKILL VALUES('7','Chandler','Joseph','4','Systems Analyst II','5');
INSERT INTO EMPSKILL VALUES('8','Robbins','Erin','3','Systems Analyst I','6');
INSERT INTO EMPSKILL VALUES('9','Robbins','Erin','4','Systems Analyst II','6');
INSERT INTO EMPSKILL VALUES('10','Burklow','Shan','4','Systems Analyst II','7');
INSERT INTO EMPSKILL VALUES('11','Yarbrough','Peter','5','Database Designer I','8');
INSERT INTO EMPSKILL VALUES('12','Yarbrough','Peter','6','Database Designer II','8');
INSERT INTO EMPSKILL VALUES('13','Yarbrough','Peter','19','SQL Server DBA','8');
INSERT INTO EMPSKILL VALUES('14','Kattan','Chris','7','Java I','9');
INSERT INTO EMPSKILL VALUES('15','Kattan','Chris','8','Java II','9');
INSERT INTO EMPSKILL VALUES('16','Pascoe','Jonathan','6','Database Designer II','10');
INSERT INTO EMPSKILL VALUES('17','Pascoe','Jonathan','18','Oracle DBA','10');
INSERT INTO EMPSKILL VALUES('18','Batts','Melissa','8','Java II','11');
INSERT INTO EMPSKILL VALUES('19','Cope','Leslie','9','C++ I','12');
INSERT INTO EMPSKILL VALUES('20','Bible','Hanah','9','C++ I','13');
INSERT INTO EMPSKILL VALUES('21','Pitt','Brad','23','Project Manager','14');
INSERT INTO EMPSKILL VALUES('22','Newton','Christopher','12','Python II','15');
INSERT INTO EMPSKILL VALUES('23','Newton','Christopher','14','ColdFusion II','15');
INSERT INTO EMPSKILL VALUES('24','Newton','Christopher','16','ASP II','15');
INSERT INTO EMPSKILL VALUES('25','Newton','Christopher','17','Web Administrator','15');
INSERT INTO EMPSKILL VALUES('26','Smith','Mary','5','Database Designer I','16');
INSERT INTO EMPSKILL VALUES('27','Smith','Mary','20','Network Engineer I','16');
INSERT INTO EMPSKILL VALUES('28','Smith','Mary','21','Network Engineer II','16');
INSERT INTO EMPSKILL VALUES('29','Smith','Mary','17','Web Administrator','16');
INSERT INTO EMPSKILL VALUES('30','Underwood','Trish','1','Data Entry I','17');
INSERT INTO EMPSKILL VALUES('31','Bender','Larry','22','Technical Writer','18');
INSERT INTO EMPSKILL VALUES('32','Mudd','Roger','23','Project Manager','19');
INSERT INTO EMPSKILL VALUES('33','Kenyon','Tiffany','23','Project Manager','20');
INSERT INTO EMPSKILL VALUES('34','Ephanor','Victor','7','Java I','21');
INSERT INTO EMPSKILL VALUES('35','Ephanor','Victor','8','Java II','21');
INSERT INTO EMPSKILL VALUES('36','Summers','Anna','7','Java I','22');
INSERT INTO EMPSKILL VALUES('37','Smith','Jose','9','C++ I','23');
INSERT INTO EMPSKILL VALUES('38','Smith','Jose','18','Oracle DBA','23');
INSERT INTO EMPSKILL VALUES('39','Smith','Jose','19','SQL Server DBA','23');
INSERT INTO EMPSKILL VALUES('40','Rogers','Adam','9','C++ I','24');
INSERT INTO EMPSKILL VALUES('41','Rogers','Adam','10','C++ II','24');
INSERT INTO EMPSKILL VALUES('42','Zebras','Steve','3','Systems Analyst I','25');
INSERT INTO EMPSKILL VALUES('43','Zebras','Steve','11','Python I','25');
INSERT INTO EMPSKILL VALUES('44','Zebras','Steve','12','Python II','25');
INSERT INTO EMPSKILL VALUES('45','Ellis','Maria','7','Java I','26');
INSERT INTO EMPSKILL VALUES('46','Ellis','Maria','11','Python I','26');
INSERT INTO EMPSKILL VALUES('47','Duarte','Miriam','13','ColdFusion I','27');
INSERT INTO EMPSKILL VALUES('48','Duarte','Miriam','15','ASP I','27');
INSERT INTO EMPSKILL VALUES('49','Duarte','Miriam','16','ASP II','27');
INSERT INTO EMPSKILL VALUES('50','Bush','Emily','3','Systems Analyst I','28');
INSERT INTO EMPSKILL VALUES('51','Bush','Emily','13','ColdFusion I','28');
INSERT INTO EMPSKILL VALUES('52','Bush','Emily','14','ColdFusion II','28');
INSERT INTO EMPSKILL VALUES('53','Bush','Emily','15','ASP I','28');
INSERT INTO EMPSKILL VALUES('54','Bush','Emily','20','Network Engineer I','28');
INSERT INTO EMPSKILL VALUES('55','Bush','Emily','21','Network Engineer II','28');
INSERT INTO EMPSKILL VALUES('56','Bush','Emily','17','Web Administrator','28');
INSERT INTO EMPSKILL VALUES('57','Kilby','Surgena','22','Technical Writer','29');
INSERT INTO EMPSKILL VALUES('58','Connor','Sean','23','Project Manager','30');



CREATE TABLE PROJECT (
PRJ_ID int,
PRJ_DATE datetime,
PRJ_DESCRIPTION varchar(100),
PRJ_ESDATESTART datetime,
PRJ_ESDATEENDS datetime,
PRJ_ESTBUDGET decimal(10,2),
PRJ_ACDATESTART datetime,
PRJ_ACDATEENDS datetime,
PRJ_ACCOST decimal(10,2),
CUS_ID int, 
EMP_ID int,
PRIMARY KEY (PRJ_ID),
FOREIGN KEY (EMP_ID) REFERENCES EMPLOYEE(EMP_ID),
FOREIGN KEY (CUS_ID) REFERENCES CUSTOMER(CUS_ID)
);

INSERT INTO PROJECT VALUES('1','2018-02-12','Sales Management System','2018-03-01','2018-07-01','15500.00','2018-03-01','2018-07-01','14000.00','1','30');


CREATE TABLE PS (
PS_ID int,
PRJ_ID int,
PS_TASK varchar(100),
PS_BEGINDATE datetime,
PS_ENDDATE datetime,
PS_QTY int,
SKILL_ID int,
PRIMARY KEY (PS_ID),
FOREIGN KEY (PRJ_ID) REFERENCES PROJECT(PRJ_ID),
FOREIGN KEY (SKILL_ID) REFERENCES SKILL(SKILL_ID)
);

INSERT INTO PS VALUE('1','1','Initial Interview', '2018-03-01','2018-03-06','1','23');
INSERT INTO PS VALUE('2','1','Initial Interview', '2018-03-01','2018-03-06','1','4');
INSERT INTO PS VALUE('3','1','Initial Interview', '2018-03-01','2018-03-06','1','5');
INSERT INTO PS VALUE('4','1','Database Design', '2018-03-11','2018-03-15','1','5');
INSERT INTO PS VALUE('5','1','System Design', '2018-03-11','2018-04-12','1','4');
INSERT INTO PS VALUE('6','1','System Design', '2018-03-11','2018-04-12','2','3');
INSERT INTO PS VALUE('7','1','Database Implementation', '2018-03-18','2018-03-22','1','18');
INSERT INTO PS VALUE('8','1','System Coding and Testing', '2018-03-25','2018-05-20','2','7');
INSERT INTO PS VALUE('9','1','System Coding and Testing', '2018-03-25','2018-05-20','1','8');
INSERT INTO PS VALUE('10','1','System Coding and Testing', '2018-03-25','2018-05-20','1','18');
INSERT INTO PS VALUE('11','1','System Documentation', '2018-03-25','2018-06-07','1','22');
INSERT INTO PS VALUE('12','1','Final Evaluation', '2018-06-10','2018-06-14','1','23');
INSERT INTO PS VALUE('13','1','Final Evaluation', '2018-06-10','2018-06-14','1','4');
INSERT INTO PS VALUE('14','1','Final Evaluation', '2018-06-10','2018-06-14','1','5');
INSERT INTO PS VALUE('15','1','Final Evaluation', '2018-06-10','2018-06-14','1','8');
INSERT INTO PS VALUE('16','1','On-site System Online and Data Loading', '2018-06-17','2018-06-21','1','23');
INSERT INTO PS VALUE('17','1','On-site System Online and Data Loading', '2018-06-17','2018-06-21','1','4');
INSERT INTO PS VALUE('18','1','On-site System Online and Data Loading', '2018-06-17','2018-06-21','1','5');
INSERT INTO PS VALUE('19','1','On-site System Online and Data Loading', '2018-06-17','2018-06-21','1','8');
INSERT INTO PS VALUE('20','1','Sign-off', '2018-07-01','2018-07-01','1','23');


CREATE TABLE ASN (
ASN_ID int,
ASN_BEGINDATE datetime,
ASN_ENDDATE datetime,
PS_ID int,
EMP_ID int,
PRIMARY KEY (ASN_ID),
FOREIGN KEY (PS_ID) REFERENCES PS(PS_ID),
FOREIGN KEY (EMP_ID) REFERENCES EMPLOYEE(EMP_ID)
);

INSERT INTO ASN VALUES('101','2018-03-01','2018-03-06','1','30');
INSERT INTO ASN VALUES('102','2018-03-01','2018-03-06','1','7');
INSERT INTO ASN VALUES('103','2018-03-01','2018-03-06','1','16');
INSERT INTO ASN VALUES('104','2018-03-11','2018-03-14','2','16');
INSERT INTO ASN VALUES('105','2018-03-11',NULL,'3','7');
INSERT INTO ASN VALUES('106','2018-03-11',NULL,'3','28');
INSERT INTO ASN VALUES('107',NULL,NULL,'3','25');
INSERT INTO ASN VALUES('108','2018-03-15','2018-03-19','4','23');
INSERT INTO ASN VALUES('109','2018-03-21',NULL,'5','22');
INSERT INTO ASN VALUES('110','2018-03-21',NULL,'5','26');
INSERT INTO ASN VALUES('111','2018-03-21',NULL,'5','21');
INSERT INTO ASN VALUES('112',NULL,NULL,'5','23');
INSERT INTO ASN VALUES('113','2018-03-25',NULL,'6','29');

CREATE TABLE BILL (
BILL_ID int,
BILL_DATE datetime,
CUS_ID int,
PRJ_ID int,
PRIMARY KEY (BILL_ID),
FOREIGN KEY (CUS_ID) REFERENCES CUSTOMER(CUS_ID),
FOREIGN KEY (PRJ_ID) REFERENCES PROJECT(PRJ_ID)
);

INSERT INTO BILL VALUES('1','2018-03-15','1','1');

CREATE TABLE WORKLOG (
WL_ID int,
WL_DATE datetime,
WL_HOURS decimal,
ASN_ID int,
BILL_ID int,
PRIMARY KEY (WL_ID),
FOREIGN KEY (ASN_ID) REFERENCES ASN(ASN_ID),
FOREIGN KEY (BILL_ID) REFERENCES BILL(BILL_ID)
);

INSERT INTO WORKLOG VALUES('1','2018-03-01','4','102','1');
INSERT INTO WORKLOG VALUES('2','2018-03-01','4','101','1');
INSERT INTO WORKLOG VALUES('3','2018-03-01','4','103','1');
INSERT INTO WORKLOG VALUES('4','2018-03-08','24','102','1'); 
INSERT INTO WORKLOG VALUES('5','2018-03-08','24','101','1');
INSERT INTO WORKLOG VALUES('6','2018-03-08','24','103','1');
INSERT INTO WORKLOG VALUES('7','2018-03-15','40','105','1');
INSERT INTO WORKLOG VALUES('8','2018-03-15','40','106','1');
INSERT INTO WORKLOG VALUES('9','2018-03-15','6','108','1');
INSERT INTO WORKLOG VALUES('10','2018-03-15','32','104','1');
INSERT INTO WORKLOG VALUES('11','2018-03-15','35','107','1');
INSERT INTO WORKLOG VALUES('12','2018-03-22','40','105','1');
INSERT INTO WORKLOG VALUES('13','2018-03-22','40','106','1');
INSERT INTO WORKLOG VALUES('14','2018-03-22','12','110','1');
INSERT INTO WORKLOG VALUES('15','2018-03-22','12','111','1');
INSERT INTO WORKLOG VALUES('16','2018-03-22','12','108','1');
INSERT INTO WORKLOG VALUES('17','2018-03-22','12','112','1');
INSERT INTO WORKLOG VALUES('18','2018-03-22','12','109','1');
INSERT INTO WORKLOG VALUES('19','2018-03-22','35','107','1');
INSERT INTO WORKLOG VALUES('20','2018-03-29','40','105','1');
INSERT INTO WORKLOG VALUES('21','2018-03-29','40','106','1');
INSERT INTO WORKLOG VALUES('22','2018-03-29','35','110','1');
INSERT INTO WORKLOG VALUES('23','2018-03-29','35','111','1');
INSERT INTO WORKLOG VALUES('24','2018-03-29','40','113','1');
INSERT INTO WORKLOG VALUES('25','2018-03-29','35','112','1');
INSERT INTO WORKLOG VALUES('26','2018-03-29','35','109','1');
INSERT INTO WORKLOG VALUES('27','2018-03-29','35','107','1');

CREATE TABLE TS (
TS_ID int PRIMARY KEY,
PS_ID int,
SKILL_ID int,
FOREIGN KEY (PS_ID) REFERENCES PS(PS_ID),
FOREIGN KEY (SKILL_ID) REFERENCES SKILL(SKILL_ID)
);

INSERT INTO TS VALUES('1','1','23');
INSERT INTO TS VALUES('2','1','4');
INSERT INTO TS VALUES('3','1','5');
INSERT INTO TS VALUES('4','2','5');
INSERT INTO TS VALUES('5','3','4');
INSERT INTO TS VALUES('6','3','3');
INSERT INTO TS VALUES('7','4','18');
INSERT INTO TS VALUES('8','5','7');
INSERT INTO TS VALUES('9','5','8');
INSERT INTO TS VALUES('10','5','18');
INSERT INTO TS VALUES('11','6','22');
INSERT INTO TS VALUES('12','7','23');
INSERT INTO TS VALUES('13','7','4');
INSERT INTO TS VALUES('14','7','5');
INSERT INTO TS VALUES('15','7','8');
INSERT INTO TS VALUES('16','8','23');
INSERT INTO TS VALUES('17','8','4');
INSERT INTO TS VALUES('18','8','5');
INSERT INTO TS VALUES('19','8','8');
INSERT INTO TS VALUES('20','9','23');